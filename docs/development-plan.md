# Takei-prime 開発計画書

**作成日**: 2025年10月26日  
**バージョン**: 2.0.0  
**ベース仕様**: takei_prime_full_spec.md

---

## 1. プロジェクト概要

### 1.1 目的
**「説明できるAI」で"人が辞めない組織設計"を実現する**

人とチームの相性・成果・定着を同時に最適化する配置レコメンドAIの開発。  
採用から異動・定着まで一貫して支援し、「なぜこの配置が良いのか」を人事・マネージャー・候補者が理解できる形で提示する。

### 1.2 コア価値
- **Fit = α×SkillMatch + β×Retention - γ×Friction** の3軸統合評価
- **経営方針モード**による重み調整（Stability/Growth/Diversity/Priority/Innovation）
- **粒度昇格**（個人最適→チーム最適→全社最適）による段階的な組織最適化
- **強み→リスク→対策**の3層説明でそのまま使える配置提案

### 1.3 開発期間
- **Phase 1 (PoC)**: 3ヶ月（2025年11月〜2026年1月）
- **Phase 2 (β版)**: 4ヶ月（2026年2月〜2026年5月）
- **Phase 3 (本番展開)**: 6ヶ月（2026年6月〜2026年11月）

---

## 2. 技術スタック選定

### 2.1 フロントエンド
- **Framework**: Next.js 14+ (App Router)
- **言語**: TypeScript 5.3+
- **UIライブラリ**: shadcn/ui + Tailwind CSS
- **状態管理**: Zustand / TanStack Query
- **チャート**: Recharts / D3.js
- **フォーム**: React Hook Form + Zod

**選定理由**:
- Next.js 14のApp RouterでSSR/ISRを活用し、高速なUXを実現
- TypeScriptによる型安全性の確保
- shadcn/uiで一貫性のある美しいUIを効率的に構築
- 2025年時点のモダンなReactエコシステムに準拠

### 2.2 バックエンド
- **Framework**: FastAPI (Python 3.11+)
- **API仕様**: OpenAPI 3.1
- **認証**: Auth0 / Firebase Authentication
- **タスクキュー**: Celery + Redis
- **ML/AI**: LangChain + OpenAI GPT-4 Turbo / Anthropic Claude

**選定理由**:
- FastAPIは高速で型安全、かつOpenAPI自動生成に対応
- PythonはML/AIライブラリが豊富
- LangChainでLLMの統合を効率化

### 2.3 データベース
- **メインDB**: PostgreSQL 16+
- **ベクトルDB**: Pinecone / Qdrant
- **キャッシュ**: Redis 7+
- **検索エンジン**: Elasticsearch 8+

**選定理由**:
- PostgreSQLはRDBの標準で、pg_vectorでベクトル検索も可能
- Pinecone/Qdrantは大規模なベクトル検索に最適
- スキルマッチングにセマンティック検索を活用

### 2.4 インフラ
- **クラウド**: AWS (ECS/Fargate, RDS, ElastiCache)
- **CI/CD**: GitHub Actions
- **コンテナ**: Docker + Docker Compose
- **モニタリング**: Datadog / CloudWatch
- **ログ**: CloudWatch Logs / ELK Stack

### 2.5 AI/MLコンポーネント
- **LLM**: OpenAI GPT-4 Turbo (配置説明生成)
- **Embedding**: OpenAI text-embedding-3-large
- **ML Framework**: scikit-learn (Fitスコア計算)
- **実験管理**: MLflow

---

## 3. システムアーキテクチャ

### 3.1 レイヤー構成

```
┌─────────────────────────────────────┐
│   Frontend (Next.js)                │
│   - ダッシュボード                    │
│   - 配置レコメンド画面                 │
│   - データ管理画面                     │
└─────────────────────────────────────┘
              ↓ REST/GraphQL
┌─────────────────────────────────────┐
│   API Gateway (FastAPI)             │
│   - 認証・認可                        │
│   - レート制限                        │
│   - リクエストバリデーション             │
└─────────────────────────────────────┘
              ↓
┌─────────────────────────────────────┐
│   Application Layer                 │
│   - 配置レコメンドエンジン              │
│   - Fitスコア計算エンジン              │
│   - 説明生成エンジン (LLM)            │
│   - データ更新ワーカー                 │
└─────────────────────────────────────┘
              ↓
┌─────────────────────────────────────┐
│   Data Layer                        │
│   - PostgreSQL (構造化データ)         │
│   - Vector DB (スキル埋め込み)        │
│   - Redis (キャッシュ)                │
└─────────────────────────────────────┘
```

### 3.2 主要コンポーネント

#### A. Fitスコア計算エンジン
```python
FitScore = α × SkillMatch + β × Retention - γ × Friction

# パラメータ (初期値)
α = 0.4  # スキルマッチの重み
β = 0.35 # 定着性の重み
γ = 0.25 # 摩擦の重み
```

#### B. スキルマッチングアルゴリズム
- コサイン類似度ベースのセマンティックマッチング
- 経験年数・習熟度の重み付け
- 必須スキル/望ましいスキルの区別

#### C. リテンションスコア
- チーム文化との適合性（5因子モデル）
- 上司との相性（マネジメントスタイルマッチング）
- 価値観の一致度

#### D. フリクションスコア
- 引き継ぎコスト推定
- 文化的ギャップ検出
- コミュニケーションスタイルの差異

---

## 4. 開発フェーズ詳細

### Phase 1: PoC開発 (3ヶ月)

#### 目標
- 基本的なFitスコア計算機能の実装
- 社内データでの検証
- MVP版の完成

#### 成果物
- [ ] プロジェクトセットアップ (Week 1-2)
  - リポジトリ構築
  - CI/CD パイプライン
  - 開発環境構築
  
- [ ] データモデル設計・実装 (Week 3-4)
  - ER図作成
  - マイグレーション
  - シードデータ投入
  
- [ ] コア機能実装 (Week 5-8)
  - Fitスコア計算エンジン
  - スキルマッチングアルゴリズム
  - 基本的なレコメンドAPI
  
- [ ] 管理画面実装 (Week 9-10)
  - データ入力UI
  - レコメンド表示画面
  - ダッシュボード
  
- [ ] 社内検証 (Week 11-12)
  - Recruit Agent での実証実験
  - フィードバック収集
  - 精度チューニング

#### KPI
- Fitスコア計算精度: 70%以上
- レスポンス時間: 500ms以内
- データ入力完了率: 80%以上

### Phase 2: β版開発 (4ヶ月)

#### 目標
- LLM連携による説明生成機能
- RMS/HRMOS連携
- データ成熟度L3達成

#### 成果物
- [ ] AI説明生成機能 (Week 1-4)
  - LangChain統合
  - プロンプトエンジニアリング
  - 強み・リスク・対策生成
  
- [ ] 外部システム連携 (Week 5-8)
  - RMS API連携
  - HRMOS API連携
  - データ同期機能
  
- [ ] 高度な分析機能 (Week 9-12)
  - チーム文化分析
  - リテンション予測モデル
  - 離職リスク検出
  
- [ ] β版リリース (Week 13-16)
  - セキュリティ監査
  - パフォーマンス最適化
  - β顧客への提供開始

#### KPI
- Fitスコア精度: 85%以上
- 説明生成品質: 人間評価4/5以上
- API連携成功率: 99%以上

### Phase 3: 本番展開 (6ヶ月)

#### 目標
- 国内主要企業への導入
- スケーラビリティ確保
- 海外展開準備

#### 成果物
- [ ] スケーリング対応 (Month 1-2)
  - マルチテナント対応
  - パフォーマンスチューニング
  - 大規模データ処理
  
- [ ] エンタープライズ機能 (Month 3-4)
  - 権限管理強化
  - 監査ログ
  - カスタムレポート
  
- [ ] 本番リリース (Month 5-6)
  - 段階的ロールアウト
  - サポート体制構築
  - 海外展開検証

#### KPI
- 導入企業数: 10社以上
- 月間アクティブユーザー: 1,000人以上
- 顧客満足度: NPS 40以上

---

## 5. データ戦略

### 5.1 データ成熟度モデル実装

| レベル | データ要件 | 実装優先度 |
|--------|-----------|-----------|
| L1 | タグのみ | Phase 1 |
| L2 | スキルレベル付き | Phase 1 |
| L3 | 部署要求設定 | Phase 2 |
| L4 | 成果・離職連携 | Phase 2-3 |

### 5.2 データ収集計画

- **候補者データ**: Indeed応募データ、履歴書解析
- **社員データ**: HRMOS、RMS連携
- **チームデータ**: サーベイ、1on1記録
- **成果データ**: 人事評価、KPI実績

---

## 6. セキュリティ・コンプライアンス

### 6.1 個人情報保護
- [ ] GDPR対応（EU展開時）
- [ ] 個人情報保護法対応
- [ ] データ暗号化（保存時・転送時）
- [ ] アクセスログ記録

### 6.2 セキュリティ対策
- [ ] OWASP Top 10対応
- [ ] 定期的な脆弱性診断
- [ ] ペネトレーションテスト
- [ ] SOC2 Type II認証取得（Phase 3）

---

## 7. リスク管理

| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|---------|------|
| AI精度不足 | 高 | 中 | 段階的リリース、人間レビュー併用 |
| データ品質問題 | 高 | 高 | データクレンジング自動化、入力検証強化 |
| 外部API障害 | 中 | 中 | フォールバック機構、キャッシュ活用 |
| スケーラビリティ | 中 | 低 | クラウドネイティブ設計、負荷テスト |

---

## 8. コスト見積もり

### 8.1 開発コスト (Phase 1)

| 項目 | 人月 | 単価 | 合計 |
|------|-----|------|------|
| フロントエンド開発 | 2.5 | ¥1,000,000 | ¥2,500,000 |
| バックエンド開発 | 3.0 | ¥1,200,000 | ¥3,600,000 |
| AI/MLエンジニア | 2.0 | ¥1,500,000 | ¥3,000,000 |
| QA/テスト | 1.0 | ¥800,000 | ¥800,000 |
| PM/デザイナー | 1.5 | ¥1,000,000 | ¥1,500,000 |
| **合計** | **10.0** | - | **¥11,400,000** |

### 8.2 ランニングコスト (月額想定)

| 項目 | 金額 |
|------|------|
| AWS インフラ | ¥300,000 |
| OpenAI API | ¥200,000 |
| その他SaaS | ¥100,000 |
| **合計** | **¥600,000** |

---

## 9. 成功指標

### 9.1 プロダクトKPI

| 指標 | Phase 1 | Phase 2 | Phase 3 |
|------|---------|---------|---------|
| 配置精度 | 70% | 85% | 90% |
| レスポンス時間 | <500ms | <300ms | <200ms |
| 説明品質 | 3.5/5 | 4.0/5 | 4.5/5 |

### 9.2 ビジネスKPI

| 指標 | Phase 1 | Phase 2 | Phase 3 |
|------|---------|---------|---------|
| 導入企業数 | 1社 | 5社 | 15社 |
| MAU | 50 | 500 | 2,000 |
| 離職率改善 | - | 10%↓ | 20%↓ |

---

## 10. 次のアクション

### 即座に着手すべきタスク

1. **プロジェクトセットアップ** (Week 1)
   - リポジトリ作成
   - 開発環境構築
   - チーム編成

2. **技術検証** (Week 1-2)
   - LLM選定・テスト
   - ベクトルDB評価
   - アーキテクチャ検証

3. **データ準備** (Week 2-3)
   - スキーマ設計
   - デモデータ作成
   - ETLパイプライン設計

4. **MVP開発開始** (Week 3-)
   - コア機能実装
   - 週次デモ
   - 継続的フィードバック

---

## 11. 参考情報

### 2025年時点の技術トレンド

- **LLM**: GPT-4 Turbo、Claude 3.5 Sonnetが主流
- **ベクトル検索**: RAG (Retrieval Augmented Generation) が標準化
- **エンタープライズAI**: 説明可能性・監査可能性が重視
- **HRTech**: People Analytics と AI の融合が加速

### 関連技術・サービス

- **Greenhouse**: 採用管理システム
- **Workday**: 統合HRシステム
- **Culture Amp**: エンゲージメント調査
- **Lattice**: パフォーマンス管理

---

**策定者**: AI Development Assistant  
**承認者**: (プロジェクトオーナー記入)  
**最終更新**: 2025年10月26日

